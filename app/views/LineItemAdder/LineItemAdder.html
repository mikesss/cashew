<form class="pure-form" ng-submit="adder.addItem()" name="itemAdder" id="itemAdder">
  <fieldset>
    <div class="field">
      <input name="name" ng-model="adder.lineItem.name" ng-model-options="{ debounce: 200 }" type="text" placeholder="New line item..." required>
    </div>
    <div class="field">
      <input name="amt" class="num_long" ng-model="adder.lineItem.amount" ng-model-options="{ debounce: 200 }" type="text" pattern="-?[0-9]+\.?[0-9]?[0-9]?" placeholder="0.00" required>
    </div>
    <span>occurs</span>
    <select ng-model="adder.lineItem.period">
      <option value="once">once</option>
      <option value="mo">monthly</option>
      <option value="yr">yearly</option>
    </select>
  </fieldset>
  <div ng-show="adder.lineItem.period!=='once'">
    <fieldset ng-repeat="date in adder.lineItem.dates" class="dates">
      <div class="field">
        <span ng-show="$index>0">and </span><span>on</span>
        <select ng-show="adder.lineItem.period==='yr'" ng-model="date.M">
          <option value="1">Jan</option>
          <option value="2">Feb</option>
          <option value="3">Mar</option>
          <option value="4">Apr</option>
          <option value="5">May</option>
          <option value="6">Jun</option>
          <option value="7">Jul</option>
          <option value="8">Aug</option>
          <option value="9">Sep</option>
          <option value="10">Oct</option>
          <option value="11">Nov</option>
          <option value="12">Dec</option>
        </select>
        <input class="num_short" type="number" placeholder="day" min="1" max="31" ng-model="date.D" ng-model-options="{ debounce: 200 }">
      </div>
    </fieldset>
    <button type="button" class="pure-button" ng-click="adder.addDateToLineItem()" ng-disabled="!adder.allowAddingDate()">
      <i class="fa fa-plus"></i>
    </button>
  </div>
  <span name="instructions" class="fake_button" ng-hide="getErrorMessage(adder.lineItem)===null">
    <i class="fa fa-question-circle"></i>
    {{getErrorMessage(adder.lineItem)}}
  </span>
  <button class="fake_button valid_button" ng-show="getErrorMessage(adder.lineItem)===null">
    <i class="fa fa-check-circle"></i>
    Add line item.
  </button>
</form>
